            Annotation Exchange Format            --------------------------Motivation----------When multiple centres start annotating the humangenome we will need an agreed upon format toexchange data between ourselves.   Commonly usedformats (GFF, DAS, GTF), although extremelyuseful, are only really designed to sequencefeatures structures and are not easily extendedto include gene structures the extra textualinformation that annotators provide.XML is a good solution for this kind ofstructured textural data.  It is well defined, easily extended if need be and relatively easilyparsed. GAME xml - has been used.  Why don't we -simplify it?  Otter has all the GAME informationwe need.Description of stored annotations---------------------------------We are proposing an xml format to store the following information  - The chromosomal region that is being   transferred.  As we are working with a clone   based assembly this contains information on   which clone accessions make up this region and   how they are joined together (the golden path   or assembly information).  Thus checks can be   made that the golden path in the xml is   *exactly* the same as the golden path in the   database being written to.  All the   coordinates in the xml are in chromosomal   (assembled) coordinates, with the exception of   the offset within each clone that is needed to   specify how it aligns in the assembly. - The dna.  This is *optional* as it will be   quite large and most centres should have the   dna in house anyway.  But it's there as we   suspect it will be useful for making small   scale analyses totally portable. - The gene annotation.  We have followed the   annotation information provided by the Sanger   annotators and information from the HAWK   workshops as well as the apollo (drosophila)   annotation model.   Genes contain a group of transcripts andtranscripts contain a group of exons so we havethree levels of objects we can annotate.  Genes,transcripts, translations and exons can all havea stable_id attached.Authors-------Three components of the XML, sequence_fragment,gene and transcript, have an author name andemail attached to them to record which annotatorcreated or last changed them.Our database implementation also attaches theauthor who is writing to the database to anyanonymous or changed components.Naming of Gene Components-------------------------Four of the gene components, gene, transcript,translation and exon, have a stable_id tag.  Thestable_id is an accession for the component whichis automatically assigned by the database used tostore the annotation.  It is used by the databaseto track modifications to gene components,replace old versions, and maintain a history ofchanges.The name tag is attached to gene andtranscripts.  In the gene it records the officialHUGO name, or an interim name assigned by theannotator.  In transcripts it is used to store auser readable or annotation center specific name.Gene annotations----------------In addition to the names described above, thereare tags under gene for storing synonyms andanotator's remarks. The structure of the gene isdescribed by its constituent transcripts.Transcript annotations----------------------Each transcript has tags that describe:    One or more exons        Zero or one translation        Whether or not the annotation is believed to    describe the complete coding sequence and    UTRs        transcript class (see below)    As most annotations will arise from an    alignment of a known or similar protein or    EST/cDNA sequence each transcript has attached a    set of evidence identifiers.  These    identifiers are accessions and versions, and    also have a type associated with them (EST,    cDNA, Protein, Genomic, UNKNOWN)Transcript class----------------This is a restricted vocabulary that may beparticular to the annotation center orannotation.  A suggested list is:    Coding - a protein coding transcript.    Non_coding - transcript which is not protein    coding or has ambiguous ORFs.    Antisense - transcript believed to be an    antisense product used in the regulation of    the gene to which it belongs.    Immature - transcript based on evidence    believed to be an immature splice product.    IG_segment - an immunogobulin variable chain    region.    Putative - transcript based on a very little    sequence data, but which does show splicing.    Pseudogene - gene with homology to other    genes and products, but which is believed to    have lost its function.    Processed_pseudogene - pseudogene that    appears to have been produced by integration    of a reverse transcribed mRNA into the    genome.    Unprocessed_pseudogene - pseudogene that    shows evidence of loss of function, but has    exon-intron structure.    Predicted - transcript partly based on    ab-initio predictions.Exon annotations----------------The exon's coordinates are given in thecoordinate system of the assembly described.Examples--------Detailed description of the xml-------------------------------1. To signify the start of an annotation region<otter>The otter annotation is enclosed within ottertags.  This can contain information aboutmultiple genomic regions, which are enclosedwithin sequence_set tags: <sequence_set>   <author>michele</author>   <author_email>michele@sanger.ac.uk</author_email>2. Chromosomal region tagsNext the chromosomal region has to be defined complete with golden path information.   <assembly_type>NCBI33</assembly_type>   <sequence_fragment>      <name>??????</name>      <remark>?????</remark>      <chromosome>1</chromosome>      <accession>AC003660</accession>      <version>4</version>      <assembly_start>400232</assembly_start>      <assembly_end>600542</assembly_start>       <fragment_ori>1</fragment_ori>      <fragment_offset>100</fragment_offset>   </sequence_fragment>   <sequence_fragment>      <name>dJ301K4</name>      <remark>Contains SCL gene</remark>      <chromosome>1</chromosome>      <accession>AC003661</accession>      <version>4</version>      <assembly_start>600643</assembly_start>      <assembly_end>75612</assembly_start>       <fragment_ori>-1</fragment_ori>      <fragment_offset>101</fragment_offset>  </sequence_fragment>Here we have a small golden path with two accessions (sequence_fragments).  Each different element of the golden path has a separate <sequence_fragment> set of tags.  The assembly_type tag contains a string showing the name and/or version of the assembly.   <sequence_fragment>      # Start of accession coordinate definition   <name>dJ302K4</name>  # Name of the clone (text)   <remark>Contains SCL gene</remark>  # Text remark per clone entered by the annotators   <chromosome>1</chomosome>  # Name of the chromosome (Text)   <accession>AC003661</accession>     # Embl/genbank accession number of the clone   <version>4</version>  # Embl/genbank version of the clone   <assembly_start>       # Where in the chromosomal region this accession starts   <assembly_end>         # Where in the chromosomal region this accession ends   <fragment_ori>         # 1 accession is forward in the region.                         # -1 accession is reversed in this region   <fragment_offset>      # Where in the *clone* the dna starts from (i.e. a value of 101 means that only bases from position 101 in the clone are taken for the golden path and the first 100 bases are missed) </sequence_fragment>     # Finished info for this accession3. DnaThis is an optional tag as the information in the <sequence_fragment> tags is enough to define the dna but we can see situations where transferring the dna will be necessary.Example :<dna>AAAGGACTAGTACGGACTGACAGGCGAGACTAGCGACTAGGCTAGACTAGCGACACTAGCGACGTA</dna>All the dna characters are within the <dna>..</dna> tags.  Newlines are ignored.4.  Genes/Transcripts/ExonsAs described in the first section all the gene structure information is contained within the transcripts.  In the gene section only text information is stored.4.1 GenesExample <gene>   <stable_id>OTTG00000000001</stable_id>   <name>SCL</name>   <remark>Some sensible remark here</remark>   <synonym>SCL</synonym>   <synonym>TAL-1</synonym>   <author>michele</author>   <author_email>michele@sanger.ac.uk</author><gene>            Needed to say - here comes a gene annotation<stable_id>       Stable identifier for a gene.   These are generated automatically when a new gene is greated.  When a gene is reannotated the version is incremented.  This can be left blank for a new gene.<name>            Official HUGO name for a gene.  Can be left blank or default to the stable id.<synonym>         Alternative name for the gene.  Could be a swissprot id or refseq id or an alternative gene name.<author>          Name of the author who last edited the gene<author_email>    Email of the author who last edited the gene4.2 TranscriptsLike genes transcripts contain textual information.  They also contain inforamtion about the completeness of the transcript.Example   <transcript>      <stable_id>OTTT0000000432</stable_id>      <name>dJ30241.1</name>      <remark>SCL gene.  Isoform 3.</remark>      <cds_start_not_found>0</cds_start_not_found>      <cds_end_not_found>1</cds_end_not_found>      <mRNA_start_not_found>1</mRNA_start_not_found>      <mRNA_end_not_found>1</mRNA_end_not_found>      <translation_start>312</translation_start>      <translation_end>1045</translation_end>      <transcript_class>Novel CDS</transcript_class><transcript> Compulsory - says here comes a transcript<stable_id>  Automatically generated database identifier.  New transcripts can leave this blank and it will be filled in automatically.  Reannotated transcripts will keep the same stable id and increase their versions.<name>       Transcript name - entered by the annotator.  Can derived from the clone or the gene name.  <remark>     Text remark entered by the annotator.  Can have multiple remark lines.<cds_start_not_found>  0 =  The start of the transcript's CDS been identified.  1 = no start of translation has been found - partial transcript.<cds_end_not_found>    0 = The end of translation has been found. 1 - no end of translation has been found and therefore is a partial transcript<mRNA_start_not_found> 0 = The start of transcription has been found. 1 = no start of transcription found and therefore is a partial transcript<mRNA_end_not_found>   0 = The end of transcript has been found.  1 = no end of transcript found and is therefor a partial transcript.<translation_start>    The start of translation (in *chromosomal* coordinates)<translation_end>      The end of translation (in *chromosomal* coordinates)<transcript_class>     What type of transcript this is.  Commonly used classes are KNOWN, NOVEL_CDS, NOVEL_MRNA, PUTATIVE, PSEUDOGENE.4.3 Transcript evidenceEach transcript has a set of evidence tagsassociated with it.  These specify the accessionsof the sequences used to build up the transcript.Example : <evidence_set>  <evidence>    <name>X98301</name>    <type>EST</type>  </evidence>  <evidence>     <name>BI549854</name>     <type>EST</type>  </evidence>  <evidence>     <name>AK024828</name>     <type>cDNA</type>  </evidence>  <evidence>     <name>EPO_HUMAN</name>     <type>Protein</type>  </evidence></evidence_set>Here we have 4 pieces of evidence for atranscript.  Each piece of evidence is within itsown <evidence>...</evidence> tags.<evidence_set>   Signifies the start of a set of trasncript evidence ids  <evidence>     Signifies the start of one peice of evidence    <name>       The accessio of the sequence that makes up this evidence    <type>       The type of evidence.  Commonly used types are EST, cDNA, Protein  </evidence>    the end of this piece of evidence</evidence_set>  The end ot the set of evidence4.4 The ExonsFinally!  We get to describe the exon structureof a transcript.  This peice of the xml describeseach exon, its coordinates and translation frame.Example<exon_set>  <exon>    <stable_id>OTTE0000034782</stable_id>    <start>4080</start>    <end>4197</end>    <strand>-1</strand>    <frame>0</frame>  </exon>   <exon>    <stable_id></stable_id>    <start>5058</start>    <end>5149</end>    <strand>-1</strand>    <frame>1</frame>   </exon> </exon_set>Here we have the exon structure for atranscript.  It contains 2 exons, both on thereverse strand.  One has already been given astable_id.  One has no stable_id meaning it isnew and will be given one when stored in thedatabase.<exon_set>      Signifies the start of a set of exons.<exon>          Signifies the start of a new exon<stable_id>     The automatically generated database stable id for an exon<start>         The start of the exon in *chromosomal* coords<end>           The end of the exon in *chromosomal* coords<strand>        1  = forward strand of chromosome                -1 = reverse strand of chromosome<frame>         This tag is omitted for a non-coding exon                0 = translation begins at first base of exon                   (or translation region within exon)                1 = translation begins at second base of exon                2 = translation begins at third base of exon</exon>         End of one exon.</exon_set>     End of a set of exons4.5 Finishing up a transcriptAfter all remarks, evidence and exons have been described we can finish our transcript using the following tag.</transcript>If there are more transcripts in the gene a new one can be started using<transcript>4.6 Finishing up a geneAfter describing all our transcripts in a gene we can finish off our gene by using the tag</gene>  If we have more genes to describe in this region a new one be started using the <gene> tag.5. Finishing the document</sequence_set>This tag says we've finished describing all the annotations on this region.</otter>Finally we sign off completely with this tag.Appendix A----------Example full xml taken from the Sanger Institute's internal ace database:Need assembly info here<gene> <stable_id>dJ72E17.1</stable_id> <name></name> <author>michele</author> <author_email>michele@sanger.ac.uk</author_email> <transcript>  <stable_id>bA420L9.1.1</stable_id>  <remark>continues as dJ72E17.1.1 in Em:AL033523</remark>  <remark>novel protein, variant 1</remark>  <cds_start_not_found>0</cds_start_not_found>  <cds_end_not_found>1</cds_end_not_found>  <mRNA_start_not_found></mRNA_start_not_found>  <mRNA_end_not_found></mRNA_end_not_found>  <transcript_class>supported</transcript_class>  <name>bA420L9.1.1</name>  <evidence_set>    <evidence>      <name>BE159143</name>      <type>EST</type>    </evidence>    <evidence>      <name>BI686272</name>      <type>EST</type>    </evidence>    <evidence>      <name>BG518575</name>      <type>EST</type>    </evidence>    <evidence>      <name>BG700513</name>      <type>EST</type>    </evidence>    <evidence>      <name>AL533952</name>      <type>EST</type>    </evidence>    <evidence>      <name>BI549854</name>      <type>EST</type>    </evidence>    <evidence>      <name>AK024828.1</name>      <type>cDNA</type>    </evidence>    <evidence>      <name>BC018520.1</name>      <type>cDNA</type>    </evidence>  </evidence_set>  <translation_start>18532</translation_start>  <translation_end>4080</translation_end>  <exon_set>   <exon>    <stable_id></stable_id>    <start>4080</start>    <end>4197</end>    <strand>-1</strand>    <frame>0</frame>   </exon>   <exon>    <stable_id></stable_id>    <start>5058</start>    <end>5149</end>    <strand>-1</strand>    <frame>1</frame>   </exon>   <exon>    <stable_id></stable_id>    <start>18277</start>    <end>19027</end>    <strand>-1</strand>    <frame>0</frame>   </exon>  </exon_set> </transcript> <transcript>  <stable_id>bA420L9.1.3</stable_id>  <remark>continues as dJ72E17.1.1 in Em:AL033523</remark>  <remark>novel protein, variant 3</remark>  <cds_start_not_found>1</cds_start_not_found>  <cds_end_not_found>0</cds_end_not_found>  <mRNA_start_not_found></mRNA_start_not_found>  <mRNA_end_not_found></mRNA_end_not_found>  <transcript_class>supported</transcript_class>  <name>bA420L9.1.3</name>  <evidence_set>    <evidence>      <name>BE539071</name>      <type>EST</type>    </evidence>  </evidence_set>  <translation_start>5895</translation_start>  <translation_end>4080</translation_end>  <exon_set>   <exon>    <stable_id></stable_id>    <start>4080</start>    <end>4197</end>    <strand>-1</strand>    <frame>0</frame>   </exon>   <exon>    <stable_id></stable_id>    <start>5058</start>    <end>5149</end>    <strand>-1</strand>    <frame>1</frame>   </exon>   <exon>    <stable_id></stable_id>    <start>5797</start>    <end>5895</end>    <strand>-1</strand>    <frame>1</frame>   </exon>  </exon_set> </transcript></gene><gene> <stable_id>bA420l9.3</stable_id> <name></name> <author>michele</author> <author_email>michele@sanger.ac.uk</author_email> <transcript>  <stable_id>bA420L9.3.1</stable_id>  <remark>DNA segment on chromosome 6 (unique) 2654 expressed sequence (D6S2654E) (XAP-5-like protein, X5L), variant 1</remark>  <cds_start_not_found>0</cds_start_not_found>  <cds_end_not_found>0</cds_end_not_found>  <mRNA_start_not_found></mRNA_start_not_found>  <mRNA_end_not_found></mRNA_end_not_found>  <transcript_class>supported</transcript_class>  <name>bA420L9.3.1</name>  <evidence_set>    <evidence>      <name>BI488606</name>      <type>EST</type>    </evidence>    <evidence>      <name>BI258091</name>      <type>EST</type>    </evidence>    <evidence>      <name>BI820514</name>      <type>EST</type>    </evidence>    <evidence>      <name>BI523689</name>      <type>EST</type>    </evidence>    <evidence>      <name>BI768136</name>      <type>EST</type>    </evidence>    <evidence>      <name>BI769243</name>      <type>EST</type>    </evidence>    <evidence>      <name>AI936359</name>      <type>EST</type>    </evidence>    <evidence>      <name>AA830135</name>      <type>EST</type>    </evidence>    <evidence>      <name>AW591060</name>      <type>EST</type>    </evidence>    <evidence>      <name>BE857173</name>      <type>EST</type>    </evidence>    <evidence>      <name>BC001261.1</name>      <type>cDNA</type>    </evidence>    <evidence>      <name>Y18503.1</name>      <type>cDNA</type>    </evidence>    <evidence>      <name>Q9WTJ8</name>      <type>Protein</type>    </evidence>    <evidence>      <name>Q9WV03</name>      <type>Protein</type>    </evidence>    <evidence>      <name>Q14320</name>      <type>Protein</type>    </evidence>    <evidence>      <name>Q18691</name>      <type>Protein</type>    </evidence>    <evidence>      <name>Q9Y247</name>      <type>Protein</type>    </evidence>    <evidence>      <name>O16128</name>      <type>Protein</type>    </evidence>  </evidence_set>  <translation_start>116813</translation_start>  <translation_end>117790</translation_end>  <exon_set>   <exon>    <stable_id></stable_id>    <start>116389</start>    <end>116487</end>    <strand>1</strand>    <frame>0</frame>   </exon>   <exon>    <stable_id></stable_id>    <start>116790</start>    <end>118318</end>    <strand>1</strand>    <frame>0</frame>   </exon>  </exon_set> </transcript> <transcript>  <stable_id>bA420L9.3.2</stable_id>  <remark>DNA segment on chromosome 6 (unique) 2654 expressed sequence (D6S2654E) (XAP-5-like protein, X5L), variant 2</remark>  <remark>alternatively spliced 5' UTR</remark>  <cds_start_not_found>0</cds_start_not_found>  <cds_end_not_found>0</cds_end_not_found>  <mRNA_start_not_found></mRNA_start_not_found>  <mRNA_end_not_found></mRNA_end_not_found>  <transcript_class>supported</transcript_class>  <name>bA420L9.3.2</name>  <evidence_set>    <evidence>      <name>BI765909</name>      <type>EST</type>    </evidence>    <evidence>      <name>BE745423</name>      <type>EST</type>    </evidence>    <evidence>      <name>Q9WTJ8</name>      <type>Protein</type>    </evidence>    <evidence>      <name>Q9WV03</name>      <type>Protein</type>    </evidence>    <evidence>      <name>Q14320</name>      <type>Protein</type>    </evidence>    <evidence>      <name>Q18691</name>      <type>Protein</type>    </evidence>    <evidence>      <name>Q9Y247</name>      <type>Protein</type>    </evidence>    <evidence>      <name>O16128</name>      <type>Protein</type>    </evidence>  </evidence_set>  <translation_start>116813</translation_start>  <translation_end>117790</translation_end>  <exon_set>   <exon>    <stable_id></stable_id>    <start>116387</start>    <end>118318</end>    <strand>1</strand>    <frame>0</frame>   </exon>  </exon_set> </transcript></gene></sequence_set></otter>